<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Team Invitation</title>
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        line-height: 1.6;
        color: #333;
        max-width: 600px;
        margin: 0 auto;
        padding: 20px;
      }
      .header {
        background: #4f46e5;
        color: white;
        padding: 20px;
        border-radius: 8px 8px 0 0;
        text-align: center;
      }
      .content {
        background: #f9fafb;
        padding: 30px;
        border-radius: 0 0 8px 8px;
        border: 1px solid #e5e7eb;
        border-top: none;
      }
      .button {
        display: inline-block;
        background: #4f46e5;
        color: white;
        padding: 12px 24px;
        text-decoration: none;
        border-radius: 6px;
        font-weight: 500;
        margin: 20px 0;
      }
      .team-info {
        background: white;
        padding: 15px;
        border-radius: 6px;
        border: 1px solid #e5e7eb;
        margin: 15px 0;
      }
      .footer {
        margin-top: 30px;
        padding-top: 20px;
        border-top: 1px solid #e5e7eb;
        font-size: 14px;
        color: #6b7280;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <div class="header">
      <h1>You're Invited!</h1>
    </div>
    
    <div class="content">
      <p>Hi there!</p>
      
      <p><strong><%= @invited_by.full_name.presence || @invited_by.email %></strong> has invited you to join their team on SaaS App.</p>
      
      <div class="team-info">
        <h3><%= @team.name %></h3>
        <p><strong>Role:</strong> <%= @invitation.role.capitalize %></p>
        <p><strong>Plan:</strong> <%= @team.plan.capitalize %></p>
      </div>
      
      <p>To accept this invitation and create your account, click the button below:</p>
      
      <p style="text-align: center;">
        <a href="<%= @accept_url %>" class="button">Accept Invitation</a>
      </p>
      
      <p>Or copy and paste this link into your browser:</p>
      <p style="word-break: break-all; background: #f3f4f6; padding: 10px; border-radius: 4px; font-family: monospace;">
        <%= @accept_url %>
      </p>
      
      <p><strong>Important:</strong> This invitation will expire on <strong><%= @invitation.expires_at.strftime("%B %d, %Y at %I:%M %p") %></strong>.</p>
      
      <p>If you have any questions, feel free to reply to this email or contact our support team.</p>
      
      <p>Welcome to SaaS App!</p>
    </div>
    
    <div class="footer">
      <p>This invitation was sent by <%= @invited_by.email %> from <%= @team.name %>.</p>
      <p>If you weren't expecting this invitation, you can safely ignore this email.</p>
    </div>
  </body>
</html>