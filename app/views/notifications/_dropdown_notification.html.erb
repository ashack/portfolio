<div class="relative hover:bg-gray-50 transition-colors" 
     data-notification-id="<%= notification.id %>" 
     data-notification-unread="<%= !notification.read? %>">
  <div class="px-4 py-3">
    <div class="flex items-start">
      <div class="flex-shrink-0">
        <div class="h-10 w-10 rounded-full <%= notification_icon_bg_class(notification) %> flex items-center justify-center">
          <%= icon(notification.icon || "bell", class: "h-5 w-5 #{notification_icon_color_class(notification)}") %>
        </div>
      </div>
      <div class="ml-3 flex-1">
        <p class="text-sm <%= notification.read? ? 'text-gray-900' : 'text-gray-900 font-medium' %>">
          <%= truncate(notification.message || "New notification", length: 80) %>
        </p>
        <p class="text-xs text-gray-500 mt-1"><%= time_ago_in_words(notification.created_at) %> ago</p>
        
        <% if notification.url.present? %>
          <div class="mt-1">
            <%= link_to "View", notification.url, 
                class: "text-xs text-indigo-600 hover:text-indigo-500 font-medium" %>
          </div>
        <% end %>
      </div>
      <% unless notification.read? %>
        <div class="ml-3 flex-shrink-0">
          <span class="block h-2 w-2 rounded-full bg-blue-600"></span>
        </div>
      <% end %>
    </div>
  </div>
</div>